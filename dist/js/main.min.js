const visitContainer=document.querySelector(".visits-list");class CreateVisitModal{constructor(){this.modal=document.createElement("div"),this.modal.classList.add("creadeVisitModal"),this.modal.innerHTML='\n        <div class="modal-content">\n            <label for="doctorSelect">Оберіть лікаря:</label>\n            <select id="doctorSelect">\n                <option value="" disabled selected hidden>Оберіть лікаря</option>\n                <option value="cardiologist">Кардіолог</option>\n                <option value="dentist">Стоматолог</option>\n                <option value="therapist">Терапевт</option>\n            </select>\n            <div id="fieldsContainer"></div>\n        </div>\n        ',document.body.appendChild(this.modal),this.selectElement=document.getElementById("doctorSelect"),this.fieldsContainer=document.getElementById("fieldsContainer"),this.selectElement.addEventListener("change",this.handleDoctorChange.bind(this))}handleDoctorChange(){const e=this.selectElement.value;this.updateAdditionalFields(e)}updateAdditionalFields(e){this.fieldsContainer.innerHTML="",this.createInputField("purpose","Мета візиту"),this.createInputField("description","Короткий опис візиту"),this.createSelectField("urgency","Терміновість",["Звичайна","Пріоритетна","Невідкладна"],"оберіть терміновість"),this.createInputField("fullName","ПІБ"),"cardiologist"===e?(this.createInputField("pressure","Звичайний тиск:"),this.createInputField("bmi","Індекс маси тіла:"),this.createInputField("heartDiseases","Перенесені захворювання серцево-судинної системи:"),this.createInputField("age","Вік:")):"dentist"===e?this.createInputField("lastVisitDate","Дата останнього відвідування:"):"therapist"===e&&this.createInputField("age","Вік:");const t=document.createElement("button");t.innerText="Створити",t.addEventListener("click",()=>this.createVisit()),this.fieldsContainer.appendChild(t);const i=document.createElement("button");i.innerText="Закрити",i.addEventListener("click",()=>this.closeVisitModal()),this.fieldsContainer.appendChild(i)}closeVisitModal(){this.modal.remove()}createVisit(){const e=this.fieldsContainer.querySelectorAll(".modalInput"),t={};t.selectedDoctor=t.selectedDoctor=this.selectElement.options[this.selectElement.selectedIndex].text,e.forEach(e=>{const i=e.id,n="select-one"===e.type?e.options[e.selectedIndex].value:e.value;t[i]=n}),this.visit=t,console.log(createVisit.visit),this.closeVisitModal()}createInputField(e,t){const i=document.createElement("div");i.innerHTML=`\n            <label for="${e}">${t}</label>\n            <input type="text" id="${e}" name="${e}" class="modalInput">\n        `,this.fieldsContainer.appendChild(i)}createSelectField(e,t,i){const n=document.createElement("div"),l=i.map(e=>`<option value="${e}">${e}</option>`).join("");n.innerHTML=`\n            <label for="${e}">${t}</label>\n            <select id="${e}" name="${e}" class="modalInput">\n                <option value="" disabled selected hidden>Оберіть ${t.toLowerCase()}</option>\n                ${l}\n            </select>\n        `,this.fieldsContainer.appendChild(n)}}const createVisit=new CreateVisitModal;
//# sourceMappingURL=../sourcemaps/main.min.js.map
