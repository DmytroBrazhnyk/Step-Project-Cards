const visitContainer=document.querySelector(".visits-list");class CreateVisitModal{constructor(){this.modal=document.createElement("div"),this.modal.classList.add("creadeVisitModal"),this.modal.innerHTML='\n        <div class="modal-content">\n            <label for="doctorSelect">Оберіть лікаря:</label>\n            <select id="doctorSelect">\n                <option value="" disabled selected hidden>Оберіть лікаря</option>\n                <option value="cardiologist">Кардіолог</option>\n                <option value="dentist">Стоматолог</option>\n                <option value="therapist">Терапевт</option>\n            </select>\n            <div id="fieldsContainer"></div>\n        </div>\n        ',document.body.appendChild(this.modal),this.selectElement=document.getElementById("doctorSelect"),this.fieldsContainer=document.getElementById("fieldsContainer"),this.selectElement.addEventListener("change",this.handleDoctorChange.bind(this))}handleDoctorChange(){const e=this.selectElement.value;this.updateAdditionalFields(e)}updateAdditionalFields(e){this.fieldsContainer.innerHTML="",this.createInputField("purpose","Мета візиту"),this.createInputField("description","Короткий опис візиту"),this.createSelectField("urgency","Терміновість",["Звичайна","Пріоритетна","Невідкладна"],"оберіть терміновість"),this.createInputField("fullName","ПІБ"),"cardiologist"===e?(this.createInputField("pressure","Звичайний тиск:"),this.createInputField("bmi","Індекс маси тіла:"),this.createInputField("heartDiseases","Перенесені захворювання серцево-судинної системи:"),this.createInputField("age","Вік:")):"dentist"===e?this.createInputField("lastVisitDate","Дата останнього відвідування:"):"therapist"===e&&this.createInputField("age","Вік:");const t=document.createElement("button");t.innerText="Створити",t.addEventListener("click",()=>this.createVisit()),this.fieldsContainer.appendChild(t);const i=document.createElement("button");i.innerText="Закрити",i.addEventListener("click",()=>this.closeVisitModal()),this.fieldsContainer.appendChild(i)}closeVisitModal(){this.modal.remove()}createVisit(){const e=this.fieldsContainer.querySelectorAll(".modalInput"),t={};t.selectedDoctor=t.selectedDoctor=this.selectElement.options[this.selectElement.selectedIndex].text,e.forEach(e=>{const i=e.id,n="select-one"===e.type?e.options[e.selectedIndex].value:e.value;t[i]=n}),this.visit=t,console.log(createVisit.visit),this.closeVisitModal()}createInputField(e,t){const i=document.createElement("div");i.innerHTML=`\n            <label for="${e}">${t}</label>\n            <input type="text" id="${e}" name="${e}" class="modalInput">\n        `,this.fieldsContainer.appendChild(i)}createSelectField(e,t,i){const n=document.createElement("div"),s=i.map(e=>`<option value="${e}">${e}</option>`).join("");n.innerHTML=`\n            <label for="${e}">${t}</label>\n            <select id="${e}" name="${e}" class="modalInput">\n                <option value="" disabled selected hidden>Оберіть ${t.toLowerCase()}</option>\n                ${s}\n            </select>\n        `,this.fieldsContainer.appendChild(n)}}const createVisit=new CreateVisitModal;class VisitCard{constructor(e){this.visitData=e,this.isExpanded=!1,this.isEditing=!1,this.createCardElement(),this.render()}createCardElement(){this.cardElement=document.createElement("div"),this.cardElement.classList.add("visitCard"),this.cardElement.innerHTML=`\n            <div class="visibleInfo">\n                <p>ПІБ: ${this.visitData.fullName}</p>\n                <p>Лікар: ${this.visitData.doctorName}</p>\n            </div>\n            <div class="additionalInfoContainer"></div>\n            <button class="showMoreBtn">Показати більше</button>\n            <button class="editBtn">Редагувати</button>\n            <button class="saveChangesBtn" style="display: none;">Зберегти зміни</button>\n            <span class="deleteIcon">❌</span>\n        `,this.cardElement.querySelector(".showMoreBtn").addEventListener("click",()=>this.toggleExpanded()),this.cardElement.querySelector(".editBtn").addEventListener("click",()=>this.toggleEditing()),this.cardElement.querySelector(".saveChangesBtn").addEventListener("click",()=>this.saveChanges()),this.cardElement.querySelector(".deleteIcon").addEventListener("click",()=>this.deleteCard())}render(){const e=this.cardElement.querySelector(".additionalInfoContainer");e.innerHTML="",this.isExpanded&&Object.keys(this.visitData).forEach(t=>{e.innerHTML+=`<p>${t}: ${this.visitData[t]}</p>`}),document.querySelector(".visits-list").appendChild(this.cardElement),this.cardElement.querySelector(".showMoreBtn").innerText=this.isExpanded?"Показати менше":"Показати більше"}toggleExpanded(){this.isExpanded=!this.isExpanded,this.render()}toggleEditing(){this.isEditing=!this.isEditing;const e=this.cardElement.querySelector(".additionalInfoContainer"),t=this.cardElement.querySelector(".visibleInfo");this.isEditing?(t.style.display="none",e.style.display="block"):(e.style.display="none",t.style.display="block",t.innerHTML=`\n                <p>ПІБ: ${this.visitData.fullName}</p>\n                <p>Лікар: ${this.visitData.doctorName}</p>\n            `),this.renderEditForm()}renderEditForm(){this.cardElement.querySelector(".additionalInfoContainer").innerHTML=`\n            <label for="editedFullName">ПІБ:</label>\n            <input type="text" id="editedFullName" value="${this.visitData.fullName}">\n            <label for="editedSelectedDoctor">Лікар:</label>\n            <input type="text" id="editedSelectedDoctor" value="${this.visitData.doctorName}">\n            <label for="editedPurpose">Мета:</label>\n            <input type="text" id="editedPurpose" value="${this.visitData.purpose}">\n            \x3c!-- Додайте інші поля редагування, використовуючи this.visitData --\x3e\n        `}saveChanges(){this.visitData.fullName=document.getElementById("editedFullName").value,this.visitData.doctorName=document.getElementById("editedSelectedDoctor").value,this.visitData.purpose=document.getElementById("editedPurpose").value;const e=this.cardElement.querySelector(".additionalInfoContainer"),t=this.cardElement.querySelector(".visibleInfo");e.style.display="none",t.style.display="block",t.innerHTML=`\n            <p>ПІБ: ${this.visitData.fullName}</p>\n            <p>Лікар: ${this.visitData.doctorName}</p>\n        `,this.cardElement.querySelector(".editBtn").style.display="inline-block",this.cardElement.querySelector(".saveChangesBtn").style.display="none"}deleteCard(){this.cardElement.remove()}}class VisitCardManager{constructor(){this.visitsList=document.querySelector(".visits-list")}addVisitCard(e){const t=new VisitCard(e);this.visitsList.appendChild(t.cardElement)}}const visitCardManager=new VisitCardManager,visitsData=[{doctorName:"Доктор Іванова",purpose:"Регулярний огляд",description:"Аналіз крові та артеріального тиску",urgency:"Пріоритетна",fullName:"Петренко Іван Петрович",bloodPressure:"120/80",bmi:24.5,cardiovascularDiseases:"Немає",age:35,lastVisitDate:"2023-01-09"},{doctorName:"Доктор Іванова",purpose:"Регулярний огляд",description:"Аналіз крові та артеріального тиску",urgency:"Пріоритетна",fullName:"Петренко Іван Петрович",bloodPressure:"120/80",bmi:24.5,cardiovascularDiseases:"Немає",age:35,lastVisitDate:"2023-01-09"}];visitsData.forEach(e=>{visitCardManager.addVisitCard(e)});
//# sourceMappingURL=../sourcemaps/main.min.js.map
