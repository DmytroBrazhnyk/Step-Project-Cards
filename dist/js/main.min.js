const visitContainer=document.querySelector(".visits-list");class CreateVisitModal{constructor(){this.modal=document.createElement("div"),this.modal.classList.add("creadeVisitModal"),this.modal.innerHTML='\n        <div class="modal-content">\n            <label for="doctorSelect">Оберіть лікаря:</label>\n            <select id="doctorSelect">\n                <option value="" disabled selected hidden>Оберіть лікаря</option>\n                <option value="cardiologist">Кардіолог</option>\n                <option value="dentist">Стоматолог</option>\n                <option value="therapist">Терапевт</option>\n            </select>\n            <div id="fieldsContainer"></div>\n        </div>\n        ',document.body.appendChild(this.modal),this.selectElement=document.getElementById("doctorSelect"),this.fieldsContainer=document.getElementById("fieldsContainer"),this.selectElement.addEventListener("change",this.handleDoctorChange.bind(this))}handleDoctorChange(){const t=this.selectElement.value;this.updateAdditionalFields(t)}updateAdditionalFields(t){this.fieldsContainer.innerHTML="",this.createInputField("purpose","Мета візиту"),this.createInputField("description","Короткий опис візиту"),this.createSelectField("urgency","Терміновість",["Звичайна","Пріоритетна","Невідкладна"],"оберіть терміновість"),this.createInputField("fullName","ПІБ"),"cardiologist"===t?(this.createInputField("pressure","Звичайний тиск:"),this.createInputField("bmi","Індекс маси тіла:"),this.createInputField("cardiovascularDiseases","Перенесені захворювання серцево-судинної системи:"),this.createInputField("age","Вік:")):"dentist"===t?this.createInputField("lastVisitDate","Дата останнього відвідування:"):"therapist"===t&&this.createInputField("age","Вік:");const e=document.createElement("button");e.innerText="Створити",e.addEventListener("click",()=>this.createVisit()),this.fieldsContainer.appendChild(e);const i=document.createElement("button");i.innerText="Закрити",i.addEventListener("click",()=>this.closeVisitModal()),this.fieldsContainer.appendChild(i)}closeVisitModal(){this.modal.remove()}createVisit(){const t=this.fieldsContainer.querySelectorAll(".modalInput"),e={};e.selectedDoctor=e.selectedDoctor=this.selectElement.options[this.selectElement.selectedIndex].text,t.forEach(t=>{const i=t.id,n="select-one"===t.type?t.options[t.selectedIndex].value:t.value;e[i]=n}),this.visit=e,console.log(createVisit.visit),this.closeVisitModal();new Card(createVisit.visit).addToVisitsList()}createInputField(t,e){const i=document.createElement("div");i.innerHTML=`\n            <label for="${t}">${e}</label>\n            <input type="text" id="${t}" name="${t}" class="modalInput">\n        `,this.fieldsContainer.appendChild(i)}createSelectField(t,e,i){const n=document.createElement("div"),s=i.map(t=>`<option value="${t}">${t}</option>`).join("");n.innerHTML=`\n            <label for="${t}">${e}</label>\n            <select id="${t}" name="${t}" class="modalInput">\n                <option value="" disabled selected hidden>Оберіть ${e.toLowerCase()}</option>\n                ${s}\n            </select>\n        `,this.fieldsContainer.appendChild(n)}}const createVisit=new CreateVisitModal;class Card{constructor(t){this.data=t,this.card=this.createCard(),this.visitsListSection=document.querySelector(".visits-list"),this.additionalInfoContainer=this.card.querySelector(".additionalInfoContainer"),this.btnContainer=this.card.querySelector(".buttonsContainer")}createCard(){const t=document.createElement("div");return t.classList.add("visitCard"),t.innerHTML=`\n            <div class="visibleInfo">\n                <p>ПІБ: ${this.data.fullName}</p>\n                <p>Лікар: ${this.data.selectedDoctor}</p>\n            </div>\n            <div class="additionalInfoContainer">\n                ${this.renderAdditionalInfo()}\n            </div>\n            <div class="buttonsContainer">\n                <button class="showMoreBtn">Показати більше</button>\n                <button class="editBtn">Редагувати</button>\n                <button class="deleteIcon">❌</button>\n            </div>\n        `,t.addEventListener("click",this.handleButtonClick.bind(this)),t}renderAdditionalInfo(){const t={doctorName:"Лікар",purpose:"Мета візиту",description:"Короткий опис візиту",urgency:"Терміновість",fullName:"ПІБ",pressure:"Звичайний тиск",bmi:"Індекс маси тіла",cardiovascularDiseases:"Перенесені захворювання серцево-судинної системи",age:"Вік",lastVisitDate:"Дата останнього відвідування"};let e="";for(const i in this.data)if("selectedDoctor"!==i&&"fullName"!==i){e+=`<p>${t[i]||i}: ${this.data[i]}</p>`}return e}handleButtonClick(t){const e=t.target;e.classList.contains("editBtn")?this.redactCard():e.classList.contains("deleteIcon")?this.deleteCard():e.classList.contains("showMoreBtn")&&this.showCard()}deleteCard(){this.card.remove()}showCard(){const t=this.card.querySelector(".showMoreBtn");this.additionalInfoContainer.classList.toggle("active"),t.innerText=this.additionalInfoContainer.classList.contains("active")?"Згорнути":"Показати більше"}redactCard(){this.additionalInfoContainer.classList.add("hiden"),this.btnContainer.classList.add("hiden")}addToVisitsList(){this.visitsListSection.appendChild(this.card)}}const testObj={selectedDoctor:"Кардіолог",purpose:"Регулярний огляд",description:"Аналіз крові та артеріального тиску",urgency:"Пріоритетна",fullName:"Петренко Іван Петрович",pressure:"120/80",bmi:24.5,cardiovascularDiseases:"Немає",age:35,lastVisitDate:"2023-01-09"},cardInstance=new Card(testObj);cardInstance.addToVisitsList();const cardInstance2=new Card(testObj);cardInstance2.addToVisitsList();const cardInstance3=new Card(testObj);cardInstance3.addToVisitsList();
//# sourceMappingURL=../sourcemaps/main.min.js.map
